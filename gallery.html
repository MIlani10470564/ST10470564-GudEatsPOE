<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GudEats — Gallery</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --bg:#000042; --fg:#f3f6f4; --accent:#72a5d3; }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--fg);line-height:1.5}
    header{background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.10));position:sticky;top:0;z-index:40}
    .navbar{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:14px 20px}
    .logo-group{display:flex;align-items:center;gap:10px}
    .logo-img{width:56px;height:56px;border-radius:10px;object-fit:cover;border:2px solid rgba(255,255,255,0.08)}
    .site-title{font-size:22px;font-weight:700}
    .nav-links{list-style:none;display:flex;gap:18px}
    .nav-links a{color:var(--fg);text-decoration:none;padding:8px 12px;border-radius:6px}
    .nav-links a:hover{background:rgba(255,255,255,0.06)}
    .hamburger{display:none;font-size:26px;cursor:pointer}
    .wrap{max-width:1200px;margin:30px auto;padding:0 20px}
    h1{font-size:32px;margin-bottom:6px}
    .subtitle{color:rgba(243,246,244,0.7);margin-bottom:20px}
    .controls{display:flex;gap:8px;align-items:center;margin-bottom:16px}
    input[type=search],select,button{padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.06);color:var(--fg)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}
    .card{background:var(--accent);border-radius:12px;overflow:hidden;color:var(--bg);box-shadow:0 8px 18px rgba(0,0,0,0.4);cursor:pointer;display:flex;flex-direction:column;transition:transform .15s}
    .card:focus{outline:3px solid rgba(255,255,255,0.12);outline-offset:3px}
    .card:hover{transform:translateY(-6px)}
    .card img{width:100%;height:160px;object-fit:cover;display:block}
    .body{padding:12px;flex:1;display:flex;flex-direction:column}
    .body h3{margin:0 0 6px;font-size:18px}
    .body p{margin:0;color:rgba(0,0,0,0.75)}
    .meta{display:flex;justify-content:space-between;margin-top:12px;color:rgba(0,0,0,0.7);font-weight:700}
    footer{max-width:1200px;margin:30px auto;text-align:center;color:rgba(243,246,244,0.6);padding:20px}
    @media(max-width:640px){ .nav-links{display:none} .hamburger{display:block} }
  </style>
</head>
<body>
  <header>
    <nav class="navbar" aria-label="Main navigation">
      <div class="logo-group">
        <a href="index.html" style="display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit">
          <img src="Assets/images/logo.jpg" alt="GudEats logo" class="logo-img">
          <div class="site-title">GudEats</div>
        </a>
      </div>
      <ul class="nav-links" role="menubar">
        <li role="none"><a role="menuitem" href="index.html">Home</a></li>
        <li role="none"><a role="menuitem" href="about-us.html">About Us</a></li>
        <li role="none"><a role="menuitem" href="contact-us.html">Contact Us</a></li>
        <li role="none"><a role="menuitem" href="enquiries.html">Enquiries</a></li>
      </ul>
      <div class="hamburger" id="hamburger" aria-hidden="true">&#9776;</div>
    </nav>
  </header>

  <main class="wrap">
    <h1>GudEats Gallery</h1>
    <p class="subtitle">Click any card to open the recipe. 

    <div class="controls" role="region" aria-label="Search and filters">
      <input id="s" type="search" placeholder="Search items..." aria-label="Search items">
      <select id="cat" aria-label="Category"><option value="">All Categories</option></select>
      <select id="sort" aria-label="Sort"><option value="relevance">Sort</option><option value="name-asc">Name A→Z</option><option value="price-asc">Price ↑</option><option value="price-desc">Price ↓</option></select>
    </div>

    <section>
      <div id="g" class="grid" aria-live="polite"></div>
    </section>
  </main>

  <footer>&copy; 2024 GudEats. All Rights Reserved.</footer>

<script>
  // data (placeholders for your licensed images)
  const items = [
    { id:'m1', title:'Classic Margherita Pizza', img:'Assets/images/pizza.jpg', cat:'Pizza', price:129, desc:'Neapolitan-style with basil & mozzarella.' },
    { id:'m2', title:'GudEats Signature Beef Burger', img:'Assets/images/burger.jpg', cat:'Burgers', price:145, desc:'Beef patty, cheddar, pickles, secret sauce.' },
    { id:'m3', title:'Caesar Salad with Grilled Chicken', img:'Assets/images/salad.jpg', cat:'Salads', price:99, desc:'Romaine, parmesan, house Caesar dressing.' },
    { id:'m4', title:'Sushi Platter (Assorted)', img:'Assets/images/sushi.jpg', cat:'Sushi', price:199, desc:'Selection of nigiri & maki.' },
    { id:'m5', title:'Pad Thai (Shrimp)', img:'Assets/images/padthai.jpg', cat:'Noodles', price:119, desc:'Rice noodles with shrimp, peanuts & tamarind.' },
    { id:'m6', title:'Tandoori Chicken Platter', img:'Assets/images/tandori.jpg', cat:'Grill', price:159, desc:'Spiced chicken marinated in yogurt.' },
    { id:'m7', title:'Seafood Paella', img:'Assets/images/paella.jpg', cat:'Rice', price:189, desc:'Saffron rice with mussels, prawns & chorizo.' },
    { id:'m8', title:'Chocolate Lava Cake', img:'Assets/images/lava.jpg', cat:'Dessert', price:69, desc:'Warm cake with molten center & ice cream.' },
    { id:'m9', title:'Avocado Toast with Poached Egg', img:'Assets/images/avotoast.jpg', cat:'Breakfast', price:79, desc:'Sourdough, smashed avo, chilli flakes & egg.' },
    { id:'m10', title:'Grilled Salmon with Lemon Butter', img:'Assets/images/salmon.jpg', cat:'Seafood', price:169, desc:'Pan-seared salmon, lemon-butter & veg.' }
  ];

  const g = document.getElementById('g');

  function $(id){ return document.getElementById(id); }

  // render card as a clickable link to recipe.html?id=...
  function renderCard(it){
    const card = document.createElement('article');
    card.className = 'card';
    card.tabIndex = 0;
    card.setAttribute('role','link');
    card.setAttribute('aria-label', it.title + ' — ' + it.cat);
    card.innerHTML = `
      <img src="${it.img}" alt="${escapeHtml(it.title)}">
      <div class="body">
        <h3>${escapeHtml(it.title)}</h3>
        <p>${escapeHtml(it.desc)}</p>
        <div class="meta"><span>${escapeHtml(it.cat)}</span><span>R ${Number(it.price).toFixed(2)}</span></div>
      </div>`;

    // click navigates to recipe page with id param
    card.addEventListener('click', ()=> {
      window.location.href = `recipe.html?id=${encodeURIComponent(it.id)}`;
    });

    // keyboard support: Enter or Space activates link
    card.addEventListener('keydown', e=>{
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        window.location.href = `recipe.html?id=${encodeURIComponent(it.id)}`;
      }
    });

    return card;
  }

  function escapeHtml(s){ return (s+'').replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  function renderGallery(list){
    g.innerHTML = '';
    if (!list.length) { g.innerHTML = '<div style="padding:18px;background:rgba(255,255,255,0.03);border-radius:8px;color:var(--fg)">No items found.</div>'; return; }
    const frag = document.createDocumentFragment();
    list.forEach(it=> frag.appendChild(renderCard(it)));
    g.appendChild(frag);
  }

  // populate categories
  const catSel = $('cat');
  (function fillCats(){
    const set = Array.from(new Set(items.map(i=>i.cat).filter(Boolean)));
    set.forEach(c=>{
      const o = document.createElement('option'); o.value = c; o.textContent = c; catSel.appendChild(o);
    });
  })();

  // controls
  $('s').addEventListener('input', debounce(e=>{
    applyFilters();
  }, 150));
  catSel.addEventListener('change', applyFilters);
  $('sort').addEventListener('change', applyFilters);
  function applyFilters(){
    const q = $('s').value.trim().toLowerCase();
    const sel = catSel.value;
    let list = items.slice();
    if (q) list = list.filter(i=> (i.title + ' ' + i.desc + ' ' + i.cat).toLowerCase().includes(q));
    if (sel) list = list.filter(i=> i.cat === sel);
    const sortBy = $('sort').value;
    if (sortBy === 'name-asc') list.sort((a,b)=> a.title.localeCompare(b.title));
    else if (sortBy === 'price-asc') list.sort((a,b)=> a.price - b.price);
    else if (sortBy === 'price-desc') list.sort((a,b)=> b.price - a.price);
    else list.sort((a,b)=> b.price - a.price); // default fallback
    renderGallery(list);
  }

  // debounce helper
  function debounce(fn, wait=200){ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), wait); }; }

  // initial render
  renderGallery(items);

  // mobile nav toggle (keeps your existing behavior)
  const ham = document.getElementById('hamburger');
  const nav = document.querySelector('.nav-links');
  ham && ham.addEventListener('click', ()=>{
    if (!nav) return;
    if (nav.style.display === 'flex') nav.style.display = 'none';
    else {
      nav.style.display = 'flex';
      nav.style.flexDirection = 'column';
      nav.style.position = 'absolute';
      nav.style.right = '20px';
      nav.style.top = '70px';
      nav.style.background = 'rgba(0,0,66,0.9)';
      nav.style.padding = '10px';
      nav.style.borderRadius = '8px';
    }
  });
</script>
</body>
</html>
